<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>üö™ Spring Cloud Gateway: API Gateway Reactivo Completo - Cyb3rh4ck¬¥s dev life</title><meta name="Description" content="Gu√≠a completa de Spring Cloud Gateway como API Gateway reactivo con WebFlux. Incluye configuraci√≥n, filtros, predicates, testing y casos de uso pr√°cticos."><meta property="og:url" content="https://cyb3rh4ck.github.io/posts/spring-boot/spring-cloud-gateway/">
  <meta property="og:site_name" content="Cyb3rh4ck¬¥s dev life">
  <meta property="og:title" content="üö™ Spring Cloud Gateway: API Gateway Reactivo Completo">
  <meta property="og:description" content="Gu√≠a completa de Spring Cloud Gateway como API Gateway reactivo con WebFlux. Incluye configuraci√≥n, filtros, predicates, testing y casos de uso pr√°cticos.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-08-08T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-08-08T00:00:00+00:00">
    <meta property="article:tag" content="Spring-Cloud-Gateway">
    <meta property="article:tag" content="Api-Gateway">
    <meta property="article:tag" content="Webflux">
    <meta property="article:tag" content="Spring-Boot">
    <meta property="article:tag" content="Microservicios">
    <meta property="article:tag" content="Reactive">
    <meta property="og:image" content="https://cyb3rh4ck.github.io/content/img/avatarCyb3r.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://cyb3rh4ck.github.io/content/img/avatarCyb3r.png">
  <meta name="twitter:title" content="üö™ Spring Cloud Gateway: API Gateway Reactivo Completo">
  <meta name="twitter:description" content="Gu√≠a completa de Spring Cloud Gateway como API Gateway reactivo con WebFlux. Incluye configuraci√≥n, filtros, predicates, testing y casos de uso pr√°cticos.">
<meta name="application-name" content="My cool site">
<meta name="apple-mobile-web-app-title" content="My cool site"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://cyb3rh4ck.github.io/posts/spring-boot/spring-cloud-gateway/" /><link rel="prev" href="https://cyb3rh4ck.github.io/posts/gpt/chatgpt-en-accion/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "üö™ Spring Cloud Gateway: API Gateway Reactivo Completo",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/cyb3rh4ck.github.io\/posts\/spring-boot\/spring-cloud-gateway\/"
        },"genre": "posts","keywords": "spring-cloud-gateway, api-gateway, webflux, spring-boot, microservicios, reactive, proxy, load-balancer","wordcount":  2165 ,
        "url": "https:\/\/cyb3rh4ck.github.io\/posts\/spring-boot\/spring-cloud-gateway\/","datePublished": "2025-08-08T00:00:00+00:00","dateModified": "2025-08-08T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "Cyb3rh4ck"
            },"description": "Gu√≠a completa de Spring Cloud Gateway como API Gateway reactivo con WebFlux. Incluye configuraci√≥n, filtros, predicates, testing y casos de uso pr√°cticos."
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('light' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'light' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Cyb3rh4ck¬¥s dev life"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/logo.png"
        data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x"
        data-sizes="auto"
        alt="/images/logo.png"
        title="/images/logo.png" />Cyb3rh4ck D3v L1f3</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/vscode/" title="üöÄ Bienvenido al m√≥dulo de **VS Code**"><i class='fa-solid fa-code'></i> VS Code </a><a class="menu-item" href="/cv/"><i class='fas fa-file-alt'></i> CV </a><a class="menu-item" href="/posts/" title="all posts"><i class='fas fa-folder-open'></i> Posts </a><a class="menu-item" href="/keycloak/" title="keycloak"><i class='fas fa-folder-open'></i> Keycloak </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Cyb3rh4ck¬¥s dev life"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/logo.png"
        data-srcset="/images/logo.png, /images/logo.png 1.5x, /images/logo.png 2x"
        data-sizes="auto"
        alt="/images/logo.png"
        title="/images/logo.png" />Cyb3rh4ck D3v L1f3</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/vscode/" title="üöÄ Bienvenido al m√≥dulo de **VS Code**"><i class='fa-solid fa-code'></i>VS Code</a><a class="menu-item" href="/cv/" title=""><i class='fas fa-file-alt'></i>CV</a><a class="menu-item" href="/posts/" title="all posts"><i class='fas fa-folder-open'></i>Posts</a><a class="menu-item" href="/keycloak/" title="keycloak"><i class='fas fa-folder-open'></i>Keycloak</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">üö™ Spring Cloud Gateway: API Gateway Reactivo Completo</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Cyb3rh4ck</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2025-08-08">2025-08-08</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;2165 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;11 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#-arquitectura">üèóÔ∏è Arquitectura</a></li>
    <li><a href="#-c√≥mo-ejecutar">üöÄ C√≥mo ejecutar</a>
      <ul>
        <li><a href="#prerrequisitos">Prerrequisitos</a></li>
        <li><a href="#ejecutar-la-aplicaci√≥n">Ejecutar la aplicaci√≥n</a></li>
      </ul>
    </li>
    <li><a href="#-pruebas">üß™ Pruebas</a>
      <ul>
        <li><a href="#endpoints-disponibles">Endpoints disponibles</a></li>
        <li><a href="#endpoints-de-monitoreo-actuator">Endpoints de monitoreo (Actuator)</a></li>
        <li><a href="#pruebas-con-curl">Pruebas con curl</a></li>
        <li><a href="#pruebas-con-navegador">Pruebas con navegador</a></li>
      </ul>
    </li>
    <li><a href="#-configuraci√≥n-explicada">‚öôÔ∏è Configuraci√≥n explicada</a>
      <ul>
        <li><a href="#configuraci√≥n-completa-del-applicationyml">Configuraci√≥n completa del <code>application.yml</code></a></li>
        <li><a href="#estructura-explicada">Estructura explicada</a></li>
        <li><a href="#componentes-clave">Componentes clave</a></li>
        <li><a href="#-managementactuator">üìä <strong>Management/Actuator</strong></a></li>
      </ul>
    </li>
    <li><a href="#-flujo-de-una-petici√≥n">üîÑ Flujo de una petici√≥n</a></li>
    <li><a href="#-estructura-del-proyecto">üìÅ Estructura del proyecto</a></li>
    <li><a href="#-dependencias-principales">üõ†Ô∏è Dependencias principales</a></li>
    <li><a href="#-casos-de-uso-comunes">üß© Casos de uso comunes</a>
      <ul>
        <li><a href="#1-api-gateway-empresarial">1. <strong>API Gateway empresarial</strong></a></li>
        <li><a href="#2-rate-limiting">2. <strong>Rate Limiting</strong></a></li>
        <li><a href="#3-circuit-breaker">3. <strong>Circuit Breaker</strong></a></li>
        <li><a href="#4-load-balancing-con-service-discovery">4. <strong>Load Balancing con Service Discovery</strong></a></li>
      </ul>
    </li>
    <li><a href="#-debugging">üîç Debugging</a>
      <ul>
        <li><a href="#ver-logs-detallados">Ver logs detallados</a></li>
        <li><a href="#verificar-rutas-activas">Verificar rutas activas</a></li>
        <li><a href="#verificar-m√©tricas">Verificar m√©tricas</a></li>
      </ul>
    </li>
    <li><a href="#-soluci√≥n-de-problemas-comunes">üö® Soluci√≥n de problemas comunes</a>
      <ul>
        <li><a href="#1-error-404-en-api">1. <strong>Error 404 en /api/</strong>*</a></li>
        <li><a href="#2-gateway-no-agrega-headers">2. <strong>Gateway no agrega headers</strong></a></li>
        <li><a href="#3-reescritura-de-path-no-funciona">3. <strong>Reescritura de path no funciona</strong></a></li>
        <li><a href="#4-aplicaci√≥n-no-inicia">4. <strong>Aplicaci√≥n no inicia</strong></a></li>
      </ul>
    </li>
    <li><a href="#-referencias">üìö Referencias</a></li>
    <li><a href="#-pr√≥ximos-pasos">üéØ Pr√≥ximos pasos</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="spring-cloud-gateway-demo">Spring Cloud Gateway Demo</h1>
<p>Este proyecto demuestra el uso de <strong>Spring Cloud Gateway</strong> como un API Gateway reactivo usando WebFlux.</p>
<h2 id="-arquitectura">üèóÔ∏è Arquitectura</h2>
<pre tabindex="0"><code>Cliente/Navegador
       ‚Üì
Spring Cloud Gateway (Puerto 8080)
       ‚Üì
httpbin.org (Servicio destino)
</code></pre><h2 id="-c√≥mo-ejecutar">üöÄ C√≥mo ejecutar</h2>
<h3 id="prerrequisitos">Prerrequisitos</h3>
<ul>
<li>Java 17+</li>
<li>Maven 3.6+</li>
</ul>
<h3 id="ejecutar-la-aplicaci√≥n">Ejecutar la aplicaci√≥n</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Usando Maven Wrapper (recomendado)</span>
</span></span><span class="line"><span class="cl">./mvnw spring-boot:run
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># En Windows</span>
</span></span><span class="line"><span class="cl">mvnw.cmd spring-boot:run
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># O ejecutando el JAR</span>
</span></span><span class="line"><span class="cl">mvn clean package
</span></span><span class="line"><span class="cl">java -jar target/spring-cloud-gateway-0.0.1-SNAPSHOT.jar
</span></span></code></pre></div><p>La aplicaci√≥n se ejecutar√° en <code>http://localhost:8080</code></p>
<h2 id="-pruebas">üß™ Pruebas</h2>
<h3 id="endpoints-disponibles">Endpoints disponibles</h3>
<table>
  <thead>
      <tr>
          <th>Endpoint</th>
          <th>Descripci√≥n</th>
          <th>Ejemplo</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>/api/get</code></td>
          <td>Proxy a httpbin.org/get</td>
          <td><code>http://localhost:8080/api/get</code></td>
      </tr>
      <tr>
          <td><code>/api/headers</code></td>
          <td>Ver headers enviados</td>
          <td><code>http://localhost:8080/api/headers</code></td>
      </tr>
      <tr>
          <td><code>/api/ip</code></td>
          <td>Ver tu IP p√∫blica</td>
          <td><code>http://localhost:8080/api/ip</code></td>
      </tr>
      <tr>
          <td><code>/api/user-agent</code></td>
          <td>Ver tu User-Agent</td>
          <td><code>http://localhost:8080/api/user-agent</code></td>
      </tr>
      <tr>
          <td><code>/api/post</code></td>
          <td>Prueba m√©todo POST</td>
          <td><code>http://localhost:8080/api/post</code></td>
      </tr>
  </tbody>
</table>
<h3 id="endpoints-de-monitoreo-actuator">Endpoints de monitoreo (Actuator)</h3>
<table>
  <thead>
      <tr>
          <th>Endpoint</th>
          <th>Descripci√≥n</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>/actuator/health</code></td>
          <td>Estado de salud</td>
      </tr>
      <tr>
          <td><code>/actuator/gateway/routes</code></td>
          <td>Rutas configuradas</td>
      </tr>
  </tbody>
</table>
<h3 id="pruebas-con-curl">Pruebas con curl</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># GET b√°sico</span>
</span></span><span class="line"><span class="cl">curl -i http://localhost:8080/api/get
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># GET con par√°metros</span>
</span></span><span class="line"><span class="cl">curl -i <span class="s2">&#34;http://localhost:8080/api/get?param1=test&amp;param2=gateway&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># POST con JSON</span>
</span></span><span class="line"><span class="cl">curl -X POST http://localhost:8080/api/post <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -H <span class="s2">&#34;Content-Type: application/json&#34;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -d <span class="s1">&#39;{&#34;test&#34;: &#34;data from gateway&#34;}&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ver headers (verificar X-Request-Source: gateway)</span>
</span></span><span class="line"><span class="cl">curl -i http://localhost:8080/api/headers
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Estado del gateway</span>
</span></span><span class="line"><span class="cl">curl http://localhost:8080/actuator/health
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ver rutas configuradas</span>
</span></span><span class="line"><span class="cl">curl http://localhost:8080/actuator/gateway/routes
</span></span></code></pre></div><h3 id="pruebas-con-navegador">Pruebas con navegador</h3>
<p>Simplemente visita: <code>http://localhost:8080/api/get</code></p>
<p><strong>Respuesta esperada:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;args&#34;</span><span class="p">:</span> <span class="p">{},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;headers&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;X-Request-Source&#34;</span><span class="p">:</span> <span class="s2">&#34;gateway&#34;</span><span class="p">,</span>  <span class="c1">// ‚Üê Header agregado por el gateway
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ... otros headers
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;origin&#34;</span><span class="p">:</span> <span class="s2">&#34;tu-ip&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;url&#34;</span><span class="p">:</span> <span class="s2">&#34;https://httpbin.org/get&#34;</span>  <span class="c1">// ‚Üê URL final despu√©s del proxy
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><h2 id="-configuraci√≥n-explicada">‚öôÔ∏è Configuraci√≥n explicada</h2>
<h3 id="configuraci√≥n-completa-del-applicationyml">Configuraci√≥n completa del <code>application.yml</code></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">server</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">8080</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">cloud</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">gateway</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">server</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">webflux</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">httpbin-get</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">https://httpbin.org</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span>- <span class="l">Path=/api/**       </span><span class="w"> </span><span class="c"># match incoming path</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span>- <span class="l">AddRequestHeader=X-Request-Source, gateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span>- <span class="l">RewritePath=/api/(?&lt;segment&gt;.*), /${segment}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">management</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">endpoints</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">exposure</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">include</span><span class="p">:</span><span class="w"> </span><span class="l">health,gateway</span><span class="w">
</span></span></span></code></pre></div><h3 id="estructura-explicada">Estructura explicada</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">server</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">8080</span><span class="w">                        </span><span class="c"># Puerto del gateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spring</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">cloud</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">gateway</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">server</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">webflux</span><span class="p">:</span><span class="w">          </span><span class="c"># Usa WebFlux (reactivo)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">routes</span><span class="p">:</span><span class="w">         </span><span class="c"># Array de rutas</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">httpbin-get              </span><span class="w"> </span><span class="c"># Identificador √∫nico</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">https://httpbin.org     </span><span class="w"> </span><span class="c"># Destino final</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">predicates</span><span class="p">:</span><span class="w">                   </span><span class="c"># Condiciones para activar la ruta</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span>- <span class="l">Path=/api/**             </span><span class="w"> </span><span class="c"># Intercepta /api/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">              </span><span class="nt">filters</span><span class="p">:</span><span class="w">                      </span><span class="c"># Transformaciones</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span>- <span class="l">AddRequestHeader=X-Request-Source, gateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span>- <span class="l">RewritePath=/api/(?&lt;segment&gt;.*), /${segment}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">management</span><span class="p">:</span><span class="w">                         </span><span class="c"># Configuraci√≥n de Actuator</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">endpoints</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">exposure</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">include</span><span class="p">:</span><span class="w"> </span><span class="l">health,gateway    </span><span class="w"> </span><span class="c"># Endpoints expuestos para monitoreo</span><span class="w">
</span></span></span></code></pre></div><h3 id="componentes-clave">Componentes clave</h3>
<h4 id="-route-id-identificador-√∫nico">üÜî <strong>Route ID (Identificador √∫nico)</strong></h4>
<p>El <code>id</code> en cada ruta puede ser <strong>cualquier nombre</strong> que elijas, pero es recomendable seguir buenas pr√°cticas:</p>
<h5 id="-flexibilidad-total">‚úÖ <strong>Flexibilidad total</strong></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">cualquier-nombre-aqui</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">mi_ruta_123  </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">RUTA-EN-MAYUSCULAS</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">ruta.con.puntos</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">ruta-con-n√∫meros-2024</span><span class="w">
</span></span></span></code></pre></div><h5 id="-buenas-pr√°cticas-recomendadas">üéØ <strong>Buenas pr√°cticas recomendadas</strong></h5>
<p><strong>Descriptivo y funcional:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl">- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">users-service-get         </span><span class="w"> </span><span class="c"># Describe el servicio y operaci√≥n</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">orders-api-crud           </span><span class="w"> </span><span class="c"># Indica el dominio y tipo</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">payment-gateway-webhook   </span><span class="w"> </span><span class="c"># Espec√≠fico al prop√≥sito</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">auth-service-login        </span><span class="w"> </span><span class="c"># Claro y conciso</span><span class="w">
</span></span></span></code></pre></div><p><strong>Convenciones comunes:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># kebab-case (recomendado)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">user-management-api</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">order-processing-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># snake_case</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">user_management_api</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">order_processing_service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># camelCase</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">userManagementApi</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">orderProcessingService</span><span class="w">
</span></span></span></code></pre></div><p><strong>Patrones por contexto:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># Por servicio destino</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">httpbin-get</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">github-api-repos</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">stripe-payments</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Por funcionalidad</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">public-api</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">admin-api</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">webhook-handler</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Por versi√≥n</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">api-v1-users</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">api-v2-users</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">legacy-orders</span><span class="w">
</span></span></span></code></pre></div><h5 id="-restricciones-t√©cnicas">‚ö†Ô∏è <strong>Restricciones t√©cnicas</strong></h5>
<p><strong>Caracteres permitidos:</strong></p>
<ul>
<li>‚úÖ Letras, n√∫meros, guiones, guiones bajos, puntos</li>
<li>‚úÖ <code>user-api</code>, <code>api_v1</code>, <code>service.auth</code>, <code>route123</code></li>
<li>‚ùå Espacios: <code>user api</code> (no funciona)</li>
<li>‚ùå Caracteres especiales: <code>user@api</code>, <code>api#1</code> (pueden causar problemas)</li>
</ul>
<p><strong>Unicidad requerida:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id: duplicate-id    # ‚ùå Error</span><span class="p">:</span><span class="w"> </span><span class="l">ID duplicado</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">https://api1.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">duplicate-id   </span><span class="w"> </span><span class="c"># ‚ùå Esto sobrescribir√° el anterior</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">https://api2.com</span><span class="w">
</span></span></span></code></pre></div><h5 id="-uso-del-id-para-debugging">üîç <strong>Uso del ID para debugging</strong></h5>
<p><strong>En logs:</strong></p>
<pre tabindex="0"><code>2025-08-08 ... : Route matched: httpbin-get
2025-08-08 ... : Applying filters for route: httpbin-get
</code></pre><p><strong>En actuator:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl http://localhost:8080/actuator/gateway/routes
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;route_id&#34;</span><span class="p">:</span> <span class="s2">&#34;httpbin-get&#34;</span><span class="p">,</span>  <span class="c1">// ‚Üê Tu ID aparece aqu√≠
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;uri&#34;</span><span class="p">:</span> <span class="s2">&#34;https://httpbin.org&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;predicates&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;Path: /api/**&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><p><strong>Para m√©tricas:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl http://localhost:8080/actuator/metrics/gateway.requests?tag<span class="o">=</span>routeId:httpbin-get
</span></span></code></pre></div><h4 id="-predicates-condiciones">üéØ <strong>Predicates (Condiciones)</strong></h4>
<p>Los <strong>predicates</strong> son las condiciones que determinan si una ruta debe activarse para una petici√≥n espec√≠fica. Son como &ldquo;filtros de entrada&rdquo; que eval√∫an las caracter√≠sticas de la petici√≥n HTTP entrante.</p>
<h5 id="-path-predicate---matching-de-rutas">‚úÖ <strong>Path Predicate - Matching de rutas</strong></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Path=/api/**             </span><span class="w"> </span><span class="c"># Intercepta /api/**</span><span class="w">
</span></span></span></code></pre></div><p><strong><code>Path=/api/**</code> explicado:</strong></p>
<ul>
<li><strong><code>/api/</code></strong>: Prefijo obligatorio que debe coincidir</li>
<li><strong><code>**</code></strong>: Comod√≠n que coincide con cualquier cantidad de caracteres y subdirectorios</li>
<li><strong>Ant-style pattern</strong>: Sigue la convenci√≥n de patrones Ant de Spring</li>
</ul>
<p><strong>Ejemplos que coinciden:</strong></p>
<ul>
<li>‚úÖ <code>http://localhost:8080/api/get</code></li>
<li>‚úÖ <code>http://localhost:8080/api/users/123</code></li>
<li>‚úÖ <code>http://localhost:8080/api/orders/search/active</code></li>
<li>‚úÖ <code>http://localhost:8080/api/v1/auth/login</code></li>
</ul>
<p><strong>Ejemplos que NO coinciden:</strong></p>
<ul>
<li>‚ùå <code>http://localhost:8080/health</code></li>
<li>‚ùå <code>http://localhost:8080/users</code></li>
<li>‚ùå <code>http://localhost:8080/actuator/health</code></li>
<li>‚ùå <code>http://localhost:8080/api</code> (sin la <code>/</code> final)</li>
</ul>
<h5 id="-otros-predicates-disponibles">üéØ <strong>Otros Predicates disponibles</strong></h5>
<p><strong>Por m√©todo HTTP:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Path=/api/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Method=GET,POST             </span><span class="w"> </span><span class="c"># Solo GET y POST</span><span class="w">
</span></span></span></code></pre></div><p><strong>Por headers:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Path=/api/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Header=Authorization, Bearer.*   </span><span class="w"> </span><span class="c"># Header con regex</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Header=X-API-Version, v2        </span><span class="w"> </span><span class="c"># Header con valor exacto</span><span class="w">
</span></span></span></code></pre></div><p><strong>Por par√°metros de consulta:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Path=/api/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Query=version, 2            </span><span class="w"> </span><span class="c"># Query param version=2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Query=debug                 </span><span class="w"> </span><span class="c"># Query param debug (cualquier valor)</span><span class="w">
</span></span></span></code></pre></div><p><strong>Por host:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Path=/api/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Host=api.example.com        </span><span class="w"> </span><span class="c"># Dominio espec√≠fico</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Host=*.example.com          </span><span class="w"> </span><span class="c"># Subdominio con comod√≠n</span><span class="w">
</span></span></span></code></pre></div><p><strong>Por cookies:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Path=/api/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Cookie=sessionId, [a-f0-9]+ </span><span class="w"> </span><span class="c"># Cookie con regex</span><span class="w">
</span></span></span></code></pre></div><p><strong>Por tiempo:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Path=/api/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">After=2025-01-01T00:00:00+00:00   </span><span class="w"> </span><span class="c"># Despu√©s de una fecha</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Before=2025-12-31T23:59:59+00:00  </span><span class="w"> </span><span class="c"># Antes de una fecha</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Between=2025-01-01T00:00:00+00:00,2025-12-31T23:59:59+00:00</span><span class="w">
</span></span></span></code></pre></div><p><strong>Por IP remota:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Path=/api/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">RemoteAddr=192.168.1.0/24   </span><span class="w"> </span><span class="c"># Rango de IPs CIDR</span><span class="w">
</span></span></span></code></pre></div><h5 id="-combinando-m√∫ltiples-predicates-and-l√≥gico">üîó <strong>Combinando m√∫ltiples predicates (AND l√≥gico)</strong></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">secure-api</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">https://secure-api.example.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Path=/secure/**                   </span><span class="w"> </span><span class="c"># Y debe empezar con /secure/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Method=GET,POST                   </span><span class="w"> </span><span class="c"># Y debe ser GET o POST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Header=Authorization, Bearer.*    </span><span class="w"> </span><span class="c"># Y debe tener header Authorization con Bearer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Query=version, v2                 </span><span class="w"> </span><span class="c"># Y debe tener query param version=v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">StripPrefix=1</span><span class="w">
</span></span></span></code></pre></div><p><strong>Para que la ruta se active, TODOS los predicates deben cumplirse:</strong></p>
<ul>
<li>‚úÖ <code>POST /secure/data?version=v2</code> + <code>Authorization: Bearer xyz123</code></li>
<li>‚ùå <code>POST /secure/data?version=v1</code> + <code>Authorization: Bearer xyz123</code> (version incorrecta)</li>
<li>‚ùå <code>DELETE /secure/data?version=v2</code> + <code>Authorization: Bearer xyz123</code> (m√©todo no permitido)</li>
</ul>
<h5 id="-ejemplos-pr√°cticos-de-path-patterns">üß™ <strong>Ejemplos pr√°cticos de Path patterns</strong></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Exacto</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">exact-match</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Path=/api/health         </span><span class="w"> </span><span class="c"># Solo /api/health</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Comod√≠n simple</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">single-wildcard</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Path=/api/*             </span><span class="w"> </span><span class="c"># /api/users pero NO /api/users/123</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Comod√≠n doble (recursivo)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">recursive-wildcard</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Path=/api/**            </span><span class="w"> </span><span class="c"># /api/users Y /api/users/123/orders</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># M√∫ltiples patrones</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">multiple-patterns</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Path=/api/users/**,/api/orders/** </span><span class="w"> </span><span class="c"># Ambos patrones</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Con variables de path</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">path-variables</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Path=/api/users/{userId}/**   </span><span class="w"> </span><span class="c"># Captura userId como variable</span><span class="w">
</span></span></span></code></pre></div><h5 id="-testing-y-debugging-de-predicates">üîç <strong>Testing y debugging de predicates</strong></h5>
<p><strong>Ver qu√© rutas coinciden:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl http://localhost:8080/actuator/gateway/routes
</span></span></code></pre></div><p><strong>Logs detallados:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">logging</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">level</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">org.springframework.cloud.gateway.handler.predicate</span><span class="p">:</span><span class="w"> </span><span class="l">DEBUG</span><span class="w">
</span></span></span></code></pre></div><p><strong>En logs ver√°s:</strong></p>
<pre tabindex="0"><code>2025-08-08 ... : Predicate PathRoutePredicateFactory matched: /api/get
2025-08-08 ... : Route matched: httpbin-get
</code></pre><p><strong>Probar predicates manualmente:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Deber√≠a funcionar (coincide con /api/**)</span>
</span></span><span class="line"><span class="cl">curl -i http://localhost:8080/api/test
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># No deber√≠a funcionar (no coincide)</span>
</span></span><span class="line"><span class="cl">curl -i http://localhost:8080/other/test
</span></span></code></pre></div><h5 id="-predicate-personalizado-avanzado">‚ö° <strong>Predicate personalizado (avanzado)</strong></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="nd">@Component</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">CustomPredicateFactory</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">extends</span><span class="w"> </span><span class="n">AbstractRoutePredicateFactory</span><span class="o">&lt;</span><span class="n">CustomPredicateFactory</span><span class="p">.</span><span class="na">Config</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nd">@Override</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Predicate</span><span class="o">&lt;</span><span class="n">ServerHttpRequest</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">apply</span><span class="p">(</span><span class="n">Config</span><span class="w"> </span><span class="n">config</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// Tu l√≥gica personalizada aqu√≠</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">request</span><span class="p">.</span><span class="na">getHeaders</span><span class="p">().</span><span class="na">containsKey</span><span class="p">(</span><span class="s">&#34;X-Custom-Header&#34;</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>Los <strong>predicates son la puerta de entrada</strong> a tu gateway - determinan qu√© tr√°fico entra por cada ruta. üö™</p>
<h4 id="-filters-transformaciones">üîß <strong>Filters (Transformaciones)</strong></h4>
<p>Los <strong>filters</strong> son las transformaciones que se aplican a las peticiones HTTP antes de enviarlas al servicio destino, o a las respuestas antes de devolverlas al cliente. Son como &ldquo;middleware&rdquo; que modifica el tr√°fico.</p>
<h5 id="-addrequestheader---agregar-headers">üè∑Ô∏è <strong>AddRequestHeader - Agregar headers</strong></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">AddRequestHeader=X-Request-Source, gateway</span><span class="w">
</span></span></span></code></pre></div><p><strong><code>AddRequestHeader=X-Request-Source, gateway</code> explicado:</strong></p>
<ul>
<li><strong>Prop√≥sito</strong>: Agrega un header HTTP a la petici√≥n saliente</li>
<li><strong>Sintaxis</strong>: <code>AddRequestHeader=nombre-header, valor</code></li>
<li><strong>Resultado</strong>: Toda petici√≥n hacia el servicio destino incluir√° <code>X-Request-Source: gateway</code></li>
</ul>
<p><strong>Ejemplo pr√°ctico:</strong></p>
<pre tabindex="0"><code>Petici√≥n original:  GET /api/get HTTP/1.1
                    Host: localhost:8080
                    User-Agent: curl/7.68.0

Petici√≥n transformada: GET /get HTTP/1.1
                       Host: httpbin.org
                       User-Agent: curl/7.68.0
                       X-Request-Source: gateway  ‚Üê Agregado por el filter
</code></pre><p><strong>Casos de uso:</strong></p>
<ul>
<li>‚úÖ <strong>Identificaci√≥n</strong>: Saber que la petici√≥n pas√≥ por el gateway</li>
<li>‚úÖ <strong>Autenticaci√≥n</strong>: Agregar tokens o credenciales</li>
<li>‚úÖ <strong>Tracking</strong>: Headers para trazabilidad y monitoreo</li>
<li>‚úÖ <strong>Versionado</strong>: Indicar versi√≥n del gateway o API</li>
</ul>
<p><strong>Variaciones del AddRequestHeader:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Header simple</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">AddRequestHeader=X-Gateway-Version, 1.0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Header con timestamp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">AddRequestHeader=X-Request-Time,</span><span class="w"> </span><span class="c">#{T(System).currentTimeMillis()}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Header condicional usando SpEL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">AddRequestHeader=X-User-Type,</span><span class="w"> </span><span class="c">#{request.headers[&#39;Authorization&#39;][0].contains(&#39;admin&#39;) ? &#39;admin&#39; : &#39;user&#39;}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># M√∫ltiples headers</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">AddRequestHeader=X-Gateway, spring-cloud</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">AddRequestHeader=X-Environment, production</span><span class="w">
</span></span></span></code></pre></div><h5 id="-rewritepath---reescribir-rutas">üîÑ <strong>RewritePath - Reescribir rutas</strong></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">RewritePath=/api/(?&lt;segment&gt;.*), /${segment}</span><span class="w">
</span></span></span></code></pre></div><p><strong><code>RewritePath=/api/(?&lt;segment&gt;.*), /${segment}</code> explicado:</strong></p>
<p><strong>Parte 1 - Patr√≥n de captura: <code>/api/(?&lt;segment&gt;.*)</code></strong></p>
<ul>
<li><strong><code>/api/</code></strong>: Prefijo literal que debe coincidir</li>
<li><strong><code>(?&lt;segment&gt;.*)</code></strong>: Grupo de captura con nombre <code>segment</code>
<ul>
<li><strong><code>?&lt;segment&gt;</code></strong>: Nombra el grupo como &ldquo;segment&rdquo;</li>
<li><strong><code>.*</code></strong>: Captura cualquier car√°cter, cualquier cantidad de veces</li>
</ul>
</li>
</ul>
<p><strong>Parte 2 - Reemplazo: <code>/${segment}</code></strong></p>
<ul>
<li><strong><code>/</code></strong>: Prefijo de la nueva ruta</li>
<li><strong><code>${segment}</code></strong>: Referencia al contenido capturado en el grupo <code>segment</code></li>
</ul>
<p><strong>Ejemplos de transformaci√≥n:</strong></p>
<table>
  <thead>
      <tr>
          <th>URL Original</th>
          <th>Patr√≥n capturado</th>
          <th>Resultado Final</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>/api/get</code></td>
          <td><code>segment = &quot;get&quot;</code></td>
          <td><code>/get</code></td>
      </tr>
      <tr>
          <td><code>/api/users/123</code></td>
          <td><code>segment = &quot;users/123&quot;</code></td>
          <td><code>/users/123</code></td>
      </tr>
      <tr>
          <td><code>/api/v1/orders/search</code></td>
          <td><code>segment = &quot;v1/orders/search&quot;</code></td>
          <td><code>/v1/orders/search</code></td>
      </tr>
      <tr>
          <td><code>/api/auth/login?redirect=/dashboard</code></td>
          <td><code>segment = &quot;auth/login?redirect=/dashboard&quot;</code></td>
          <td><code>/auth/login?redirect=/dashboard</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Flujo completo:</strong></p>
<pre tabindex="0"><code>1. Cliente solicita:     http://localhost:8080/api/users/123
2. Gateway captura:      segment = &#34;users/123&#34;  
3. Gateway reescribe:    /users/123
4. Env√≠a al destino:     https://httpbin.org/users/123
</code></pre><p><strong>Otros patrones de RewritePath:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Remover prefijo simple</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">RewritePath=/old-api/(?&lt;segment&gt;.*), /new-api/${segment}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Agregar versi√≥n</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">RewritePath=/api/(?&lt;segment&gt;.*), /v1/api/${segment}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Reemplazar completamente</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">RewritePath=/legacy/(?&lt;path&gt;.*), /modern/services/${path}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Capturar m√∫ltiples segmentos</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">RewritePath=/api/(?&lt;version&gt;v[0-9]+)/(?&lt;resource&gt;.*), /${version}/${resource}</span><span class="w">
</span></span></span></code></pre></div><h5 id="-otros-filters-comunes">üõ†Ô∏è <strong>Otros Filters comunes</strong></h5>
<p><strong>Manipulaci√≥n de headers:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Request headers</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">AddRequestHeader=Authorization, Bearer token123</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">SetRequestHeader=Content-Type, application/json   </span><span class="w"> </span><span class="c"># Sobrescribe si existe</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">RemoveRequestHeader=X-Internal-Header             </span><span class="w"> </span><span class="c"># Remueve header</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Response headers  </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">AddResponseHeader=X-Gateway-Response, processed</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">SetResponseHeader=Cache-Control, no-cache</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">RemoveResponseHeader=Server                       </span><span class="w"> </span><span class="c"># Oculta informaci√≥n del servidor</span><span class="w">
</span></span></span></code></pre></div><p><strong>Manipulaci√≥n de paths:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">StripPrefix=1                    # Remueve 1 segmento</span><span class="p">:</span><span class="w"> </span><span class="l">/api/users ‚Üí /users</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">StripPrefix=2                    # Remueve 2 segmentos</span><span class="p">:</span><span class="w"> </span><span class="l">/v1/api/users ‚Üí /users</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">PrefixPath=/legacy              # Agrega prefijo</span><span class="p">:</span><span class="w"> </span><span class="l">/users ‚Üí /legacy/users</span><span class="w">
</span></span></span></code></pre></div><p><strong>Redirecciones y status:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">RedirectTo=302, https://new-domain.com/api       </span><span class="w"> </span><span class="c"># Redirige temporalmente</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">SetStatus=200                                    </span><span class="w"> </span><span class="c"># Fuerza status code</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">SetStatus=404                                    </span><span class="w"> </span><span class="c"># Simula not found</span><span class="w">
</span></span></span></code></pre></div><p><strong>Rate limiting y circuit breaker:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">RequestRateLimiter</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">rate-limiter</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;#{@myRateLimiter}&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">key-resolver</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;#{@userKeyResolver}&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">CircuitBreaker</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">myCircuitBreaker</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">fallbackUri</span><span class="p">:</span><span class="w"> </span><span class="l">forward:/fallback</span><span class="w">
</span></span></span></code></pre></div><p><strong>Request/Response modification:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">ModifyRequestBody</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">modify-request-body-class</span><span class="p">:</span><span class="w"> </span><span class="l">java.lang.String</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">modify-request-body-function</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;#{@requestBodyModifier}&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">ModifyResponseBody  </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">modify-response-body-class</span><span class="p">:</span><span class="w"> </span><span class="l">java.lang.String</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">modify-response-body-function</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;#{@responseBodyModifier}&#34;</span><span class="w">
</span></span></span></code></pre></div><h5 id="-orden-de-ejecuci√≥n-de-filters">‚ö° <strong>Orden de ejecuci√≥n de filters</strong></h5>
<p>Los filters se ejecutan en el orden que aparecen en la configuraci√≥n:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">AddRequestHeader=Step, 1       </span><span class="w"> </span><span class="c"># Se ejecuta PRIMERO</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">RewritePath=/api/(?&lt;segment&gt;.*), /${segment} </span><span class="w"> </span><span class="c"># Se ejecuta SEGUNDO  </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">AddRequestHeader=Step, 2       </span><span class="w"> </span><span class="c"># Se ejecuta TERCERO</span><span class="w">
</span></span></span></code></pre></div><p><strong>Para casos complejos, puedes especificar el orden:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">AddRequestHeader</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">X-Step</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">first</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">order</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">RewritePath  </span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">regexp</span><span class="p">:</span><span class="w"> </span><span class="l">/api/(?&lt;segment&gt;.*)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">replacement</span><span class="p">:</span><span class="w"> </span><span class="l">/${segment}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">order</span><span class="p">:</span><span class="w"> </span><span class="m">2</span><span class="w">
</span></span></span></code></pre></div><h5 id="-testing-y-debugging-de-filters">üß™ <strong>Testing y debugging de filters</strong></h5>
<p><strong>Ver headers agregados:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -i http://localhost:8080/api/headers
</span></span></code></pre></div><p><strong>Respuesta esperada:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;headers&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;X-Request-Source&#34;</span><span class="p">:</span> <span class="s2">&#34;gateway&#34;</span><span class="p">,</span>    <span class="c1">// ‚Üê Header agregado por AddRequestHeader
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nt">&#34;Host&#34;</span><span class="p">:</span> <span class="s2">&#34;httpbin.org&#34;</span><span class="p">,</span>           <span class="c1">// ‚Üê Host cambiado por el proxy
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="c1">// ... otros headers
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>Ver transformaci√≥n de path:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl -i http://localhost:8080/api/get
</span></span><span class="line"><span class="cl"><span class="c1"># La URL final en httpbin ser√°: https://httpbin.org/get (sin /api/)</span>
</span></span></code></pre></div><p><strong>Logs detallados:</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">logging</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">level</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">org.springframework.cloud.gateway.filter</span><span class="p">:</span><span class="w"> </span><span class="l">DEBUG</span><span class="w">
</span></span></span></code></pre></div><p><strong>En logs ver√°s:</strong></p>
<pre tabindex="0"><code>2025-08-08 ... : Applying filter: AddRequestHeaderGatewayFilterFactory
2025-08-08 ... : Applying filter: RewritePathGatewayFilterFactory  
2025-08-08 ... : Rewritten path from /api/get to /get
</code></pre><h5 id="-ejemplo-completo-con-m√∫ltiples-filters">üéØ <strong>Ejemplo completo con m√∫ltiples filters</strong></h5>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">complete-example</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">https://api.backend.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Path=/public/api/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Method=GET,POST</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># 1. Autenticaci√≥n y headers de seguridad</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">AddRequestHeader=X-Gateway-Auth, gateway-token-123</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">AddRequestHeader=X-Forwarded-Proto, https</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># 2. Transformaci√≥n de path</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RewritePath=/public/api/(?&lt;version&gt;v[0-9]+)/(?&lt;resource&gt;.*), /api/${version}/${resource}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># 3. Rate limiting</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">RequestRateLimiter</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">args</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">rate-limiter</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;#{@redisRateLimiter}&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># 4. Headers de respuesta</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">AddResponseHeader=X-Processed-By, spring-cloud-gateway</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">AddResponseHeader=X-Response-Time, &#34;#{T(System).currentTimeMillis()}&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="c"># 5. Remover headers internos en respuesta</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">RemoveResponseHeader=X-Internal-Token</span><span class="w">
</span></span></span></code></pre></div><p>Los <strong>filters son el coraz√≥n de la transformaci√≥n</strong> en tu gateway - modifican tanto peticiones como respuestas seg√∫n tus necesidades. üîß‚ú®</p>
<h3 id="-managementactuator">üìä <strong>Management/Actuator</strong></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">management</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">endpoints</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">web</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">exposure</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">include</span><span class="p">:</span><span class="w"> </span><span class="l">health,gateway</span><span class="w">
</span></span></span></code></pre></div><p>Expone endpoints espec√≠ficos para monitoreo y debugging del gateway:</p>
<ul>
<li><strong><code>health</code></strong>: Estado de salud de la aplicaci√≥n</li>
<li><strong><code>gateway</code></strong>: Informaci√≥n espec√≠fica del gateway (rutas, filtros, m√©tricas)</li>
</ul>
<h2 id="-flujo-de-una-petici√≥n">üîÑ Flujo de una petici√≥n</h2>
<ol>
<li><strong>Cliente env√≠a</strong>: <code>GET http://localhost:8080/api/get</code></li>
<li><strong>Gateway eval√∫a</strong>: <code>Path=/api/**</code> ‚Üí ‚úÖ Coincide con la ruta <code>httpbin-get</code></li>
<li><strong>Aplica filtros</strong>:
<ul>
<li>Agrega header: <code>X-Request-Source: gateway</code></li>
<li>Reescribe path: <code>/api/get</code> ‚Üí <code>/get</code></li>
</ul>
</li>
<li><strong>Env√≠a a destino</strong>: <code>GET https://httpbin.org/get</code> con header adicional</li>
<li><strong>Respuesta regresa</strong>: httpbin.org responde y el gateway reenv√≠a al cliente</li>
</ol>
<h2 id="-estructura-del-proyecto">üìÅ Estructura del proyecto</h2>
<pre tabindex="0"><code>spring-cloud-gateway/
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ pom.xml
‚îú‚îÄ‚îÄ mvnw / mvnw.cmd
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ io/cyb3rh4ck/github/spring_cloud_gateway/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ SpringCloudGatewayApplication.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ application.yml
‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îÇ       ‚îî‚îÄ‚îÄ java/
‚îÇ           ‚îî‚îÄ‚îÄ io/cyb3rh4ck/github/spring_cloud_gateway/
‚îÇ               ‚îî‚îÄ‚îÄ SpringCloudGatewayApplicationTests.java
‚îú‚îÄ‚îÄ target/
‚îî‚îÄ‚îÄ .vscode/
    ‚îî‚îÄ‚îÄ launch.json
</code></pre><h2 id="-dependencias-principales">üõ†Ô∏è Dependencias principales</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;dependencies&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- Spring Cloud Gateway (WebFlux/Reactivo) --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>org.springframework.cloud<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>spring-cloud-starter-gateway<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- Actuator para monitoreo --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;dependency&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;groupId&gt;</span>org.springframework.boot<span class="nt">&lt;/groupId&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;artifactId&gt;</span>spring-boot-starter-actuator<span class="nt">&lt;/artifactId&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/dependency&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/dependencies&gt;</span>
</span></span></code></pre></div><h2 id="-casos-de-uso-comunes">üß© Casos de uso comunes</h2>
<h3 id="1-api-gateway-empresarial">1. <strong>API Gateway empresarial</strong></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">routes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://user-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">Path=/users/**</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">StripPrefix=1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">AddRequestHeader=X-Service, users</span><span class="w">
</span></span></span></code></pre></div><h3 id="2-rate-limiting">2. <strong>Rate Limiting</strong></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">RequestRateLimiter</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">redis-rate-limiter.replenishRate</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">redis-rate-limiter.burstCapacity</span><span class="p">:</span><span class="w"> </span><span class="m">20</span><span class="w">
</span></span></span></code></pre></div><h3 id="3-circuit-breaker">3. <strong>Circuit Breaker</strong></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">CircuitBreaker</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">args</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">myCircuitBreaker</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">fallbackUri</span><span class="p">:</span><span class="w"> </span><span class="l">forward:/fallback</span><span class="w">
</span></span></span></code></pre></div><h3 id="4-load-balancing-con-service-discovery">4. <strong>Load Balancing con Service Discovery</strong></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl">- <span class="nt">id</span><span class="p">:</span><span class="w"> </span><span class="l">load-balanced-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l">lb://my-service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">predicates</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">Path=/service/**</span><span class="w">
</span></span></span></code></pre></div><h2 id="-debugging">üîç Debugging</h2>
<h3 id="ver-logs-detallados">Ver logs detallados</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">logging</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">level</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">org.springframework.cloud.gateway</span><span class="p">:</span><span class="w"> </span><span class="l">DEBUG</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">reactor.netty</span><span class="p">:</span><span class="w"> </span><span class="l">DEBUG</span><span class="w">
</span></span></span></code></pre></div><h3 id="verificar-rutas-activas">Verificar rutas activas</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl http://localhost:8080/actuator/gateway/routes <span class="p">|</span> jq
</span></span></code></pre></div><h3 id="verificar-m√©tricas">Verificar m√©tricas</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl http://localhost:8080/actuator/metrics/gateway.requests
</span></span></code></pre></div><h2 id="-soluci√≥n-de-problemas-comunes">üö® Soluci√≥n de problemas comunes</h2>
<h3 id="1-error-404-en-api">1. <strong>Error 404 en /api/</strong>*</h3>
<ul>
<li>Verificar que la aplicaci√≥n est√© ejecut√°ndose en puerto 8080</li>
<li>Verificar sintaxis del predicate <code>Path=/api/**</code></li>
<li>Revisar logs para errores de configuraci√≥n</li>
</ul>
<h3 id="2-gateway-no-agrega-headers">2. <strong>Gateway no agrega headers</strong></h3>
<ul>
<li>Verificar sintaxis: <code>AddRequestHeader=nombre, valor</code></li>
<li>Probar con <code>/api/headers</code> para ver headers enviados</li>
</ul>
<h3 id="3-reescritura-de-path-no-funciona">3. <strong>Reescritura de path no funciona</strong></h3>
<ul>
<li>Verificar regex: <code>/api/(?&lt;segment&gt;.*)</code></li>
<li>Probar la regex en herramientas online</li>
<li>Revisar logs de Spring Cloud Gateway</li>
</ul>
<h3 id="4-aplicaci√≥n-no-inicia">4. <strong>Aplicaci√≥n no inicia</strong></h3>
<ul>
<li>Verificar que puerto 8080 est√© libre: <code>netstat -an | findstr 8080</code></li>
<li>Verificar dependencias de Maven: <code>mvn dependency:tree</code></li>
<li>Revisar versiones de Spring Boot y Spring Cloud</li>
</ul>
<h2 id="-referencias">üìö Referencias</h2>
<ul>
<li><a href="https://docs.spring.io/spring-cloud-gateway/docs/current/reference/html/" target="_blank" rel="noopener noreffer ">Spring Cloud Gateway Docs</a></li>
<li><a href="https://httpbin.org/" target="_blank" rel="noopener noreffer ">HTTPBin.org</a> - Servicio de prueba HTTP</li>
<li><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html" target="_blank" rel="noopener noreffer ">Spring Boot Actuator</a></li>
</ul>
<h2 id="-pr√≥ximos-pasos">üéØ Pr√≥ximos pasos</h2>
<ol>
<li><strong>Agregar autenticaci√≥n</strong>: JWT, OAuth2</li>
<li><strong>Implementar rate limiting</strong>: Redis-based rate limiter</li>
<li><strong>Agregar circuit breaker</strong>: Resilience4j integration</li>
<li><strong>Service Discovery</strong>: Eureka, Consul</li>
<li><strong>Observabilidad</strong>: Distributed tracing, metrics</li>
<li><strong>Seguridad</strong>: CORS, CSRF protection</li>
</ol>
<hr>
<p><strong>Autor</strong>: GitHub Portfolio Labs<br>
<strong>Tecnolog√≠as</strong>: Spring Boot 3.5.4, Spring Cloud 2025.0.0, Java</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2025-08-08</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://cyb3rh4ck.github.io/posts/spring-boot/spring-cloud-gateway/" data-title="üö™ Spring Cloud Gateway: API Gateway Reactivo Completo" data-hashtags="spring-cloud-gateway,api-gateway,webflux,spring-boot,microservicios,reactive,proxy,load-balancer"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://cyb3rh4ck.github.io/posts/spring-boot/spring-cloud-gateway/" data-hashtag="spring-cloud-gateway"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://cyb3rh4ck.github.io/posts/spring-boot/spring-cloud-gateway/" data-title="üö™ Spring Cloud Gateway: API Gateway Reactivo Completo"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://cyb3rh4ck.github.io/posts/spring-boot/spring-cloud-gateway/" data-title="üö™ Spring Cloud Gateway: API Gateway Reactivo Completo"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on ÂæÆÂçö" data-sharer="weibo" data-url="https://cyb3rh4ck.github.io/posts/spring-boot/spring-cloud-gateway/" data-title="üö™ Spring Cloud Gateway: API Gateway Reactivo Completo"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/spring-cloud-gateway/">Spring-Cloud-Gateway</a>,&nbsp;<a href="/tags/api-gateway/">Api-Gateway</a>,&nbsp;<a href="/tags/webflux/">Webflux</a>,&nbsp;<a href="/tags/spring-boot/">Spring-Boot</a>,&nbsp;<a href="/tags/microservicios/">Microservicios</a>,&nbsp;<a href="/tags/reactive/">Reactive</a>,&nbsp;<a href="/tags/proxy/">Proxy</a>,&nbsp;<a href="/tags/load-balancer/">Load-Balancer</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/gpt/chatgpt-en-accion/" class="prev" rel="prev" title="ChatGPT en Acci√≥n: F√≥rmulas, Innovaci√≥n y Tecnolog√≠a para Empresas Modernas"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>ChatGPT en Acci√≥n: F√≥rmulas, Innovaci√≥n y Tecnolog√≠a para Empresas Modernas</a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.148.1">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.3.0"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2025</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Cyb3rh4ck</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  mermaid.initialize({ startOnLoad: true });
</script>
</div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
